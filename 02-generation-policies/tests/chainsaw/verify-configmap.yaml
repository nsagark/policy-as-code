apiVersion: chainsaw.kyverno.io/v1alpha1
kind: Assert
metadata:
  name: verify-configmap
spec:
  match:
    - apiVersion: v1
      kind: ConfigMap
      name: sample-app-config
      namespace: default
  check:
    - key: data.APP_ENV
      value: default
    - key: data.LOG_LEVEL
      value: info
    - key: data.METRICS_ENABLED
      value: "true"
    - key: data.CONFIG_VERSION
      value: "1.0"
    - key: data.APP_NAME
      value: sample-app
    - key: data.APP_PORT
      value: "80" 